{"ast":null,"code":"import { ENVIRONMENT } from '../core/tokens/environment_token';\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./weather-forecast-url-helper.service\";\nimport * as i3 from \"../mapper/weather-service-mapper\";\nexport let WeatherForecastApiService = /*#__PURE__*/(() => {\n  class WeatherForecastApiService {\n    constructor(http, urlService, weatherMapper, environment) {\n      this.http = http;\n      this.urlService = urlService;\n      this.weatherMapper = weatherMapper;\n      this.environment = environment;\n      this.API_KEY = environment.weatherForecastService.key;\n    }\n\n    fetchWeatherForecast(coords) {\n      const url = this.urlService.getUrlWeatherForecast(coords.lat, coords.lon).url;\n      return this.http.get(url).pipe(map(response => {\n        console.log(response);\n        return this.weatherMapper.parseWeatherForecastResponse(response);\n      }));\n    }\n\n  }\n\n  WeatherForecastApiService.ɵfac = function WeatherForecastApiService_Factory(t) {\n    return new (t || WeatherForecastApiService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.WeatherForecastUrlHelperService), i0.ɵɵinject(i3.WeatherServiceMapper), i0.ɵɵinject(ENVIRONMENT));\n  };\n\n  WeatherForecastApiService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: WeatherForecastApiService,\n    factory: WeatherForecastApiService.ɵfac,\n    providedIn: 'root'\n  });\n  return WeatherForecastApiService;\n})();","map":null,"metadata":{},"sourceType":"module"}